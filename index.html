<!DOCTYPE html>
<html lang="ar" dir="rtl" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViralFlow AI - Content That Breaks The Internet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Added Cairo font for Arabic -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;700;900&family=Outfit:wght@300;400;500;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Base LTR Fonts */
        body { font-family: 'Inter', sans-serif; overflow-x: hidden; }
        h1, h2, h3, h4, .font-display { font-family: 'Outfit', sans-serif; }
        
        .ltr { direction: ltr; }
        
        /* Arabic Font Overrides */
        .rtl { direction: rtl; font-family: 'Cairo', sans-serif; }
        .rtl h1, .rtl h2, .rtl h3, .rtl h4, .rtl .font-display { font-family: 'Cairo', sans-serif; }
        
        /* Custom Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.2); }
            50% { box-shadow: 0 0 40px rgba(168, 85, 247, 0.6); }
        }
        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-delayed { animation: float 6s ease-in-out 3s infinite; }
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
        .animate-spin-slow { animation: spin 3s linear infinite; }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Typewriter Cursor */
        .cursor-blink {
            display: inline-block;
            width: 3px;
            background-color: #4f46e5;
            animation: blink 1s infinite;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        
        /* Markdown-like output styling */
        .prose-output strong { color: #4f46e5; font-weight: 700; }
        .prose-output ul { list-style-type: disc; padding-inline-start: 1.5rem; margin-top: 1rem; }
        .prose-output li { margin-bottom: 0.5rem; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 selection:bg-indigo-500 selection:text-white">
    
    <!-- Background Gradients -->
    <div class="fixed inset-0 z-0 overflow-hidden pointer-events-none">
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"></div>
        <div class="absolute top-0 right-1/4 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"></div>
        <div class="absolute -bottom-32 left-1/3 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"></div>
    </div>

    <div id="app" class="relative z-10 min-h-screen transition-all">
        <!-- Navigation -->
        <nav class="fixed w-full z-50 bg-white/80 backdrop-blur-md border-b border-white/20 shadow-sm transition-all duration-300" id="navbar">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-20">
                    <!-- Logo -->
                    <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer group" onclick="setView('home')">
                        <div class="w-10 h-10 bg-gradient-to-tr from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                        </div>
                        <span class="font-display font-bold text-2xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600">ViralFlow</span>
                    </div>

                    <!-- Desktop Menu -->
                    <div class="hidden md:flex items-center gap-8">
                        <button onclick="setView('home')" id="nav-home" class="text-slate-900 font-medium hover:text-indigo-600 transition-colors">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                        <button onclick="setView('generator')" id="nav-generator" class="text-slate-500 hover:text-indigo-600 transition-colors font-medium">Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ âœ¨</button>
                        <a href="#features" id="nav-features" class="text-slate-500 hover:text-indigo-600 transition-colors font-medium">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</a>
                        <a href="#services" id="nav-services" class="text-slate-500 hover:text-indigo-600 transition-colors font-medium">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
                        
                        <!-- Language Switcher -->
                        <div class="flex items-center bg-slate-100 rounded-full px-1 p-1 shadow-inner">
                            <button onclick="setLang('en')" class="lang-btn en px-3 py-1 rounded-full text-xs font-bold uppercase transition-all text-slate-400">EN</button>
                            <button onclick="setLang('ar')" class="lang-btn ar px-3 py-1 rounded-full text-xs font-bold uppercase transition-all bg-white text-indigo-600 shadow-sm">AR</button>
                            <button onclick="setLang('fr')" class="lang-btn fr px-3 py-1 rounded-full text-xs font-bold uppercase transition-all text-slate-400">FR</button>
                        </div>

                        <button onclick="setView('generator')" class="bg-slate-900 text-white px-6 py-2.5 rounded-full font-bold text-sm hover:bg-indigo-600 hover:shadow-lg hover:shadow-indigo-500/30 transition-all transform hover:-translate-y-0.5" id="nav-cta">
                            Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†
                        </button>
                    </div>

                    <!-- Mobile Toggle -->
                    <div class="md:hidden flex items-center gap-4">
                        <button onclick="toggleMenu()" class="text-slate-800 p-2">
                            <svg id="menu-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-xl border-t border-slate-100 shadow-lg px-4 py-6 space-y-4 absolute w-full z-40">
                <button onclick="setView('home'); toggleMenu();" class="block text-slate-800 font-bold text-lg w-full text-right" id="m-nav-home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                <button onclick="setView('generator'); toggleMenu();" class="block text-indigo-600 font-bold text-lg w-full text-right" id="m-nav-generator">Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ âœ¨</button>
                <a href="#features" class="block text-slate-600 font-medium" onclick="toggleMenu()" id="m-nav-features">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</a>
                <a href="#services" class="block text-slate-600 font-medium" onclick="toggleMenu()" id="m-nav-services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
                <button onclick="setView('contact'); toggleMenu();" class="block text-slate-600 font-medium w-full text-right" id="m-nav-contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button>
                <div class="flex gap-2 justify-end pt-4 border-t border-slate-100">
                    <button onclick="setLang('en')" class="text-sm font-bold text-slate-400">EN</button>
                    <span class="text-slate-300">|</span>
                    <button onclick="setLang('ar')" class="text-sm font-bold text-indigo-600">AR</button>
                    <span class="text-slate-300">|</span>
                    <button onclick="setLang('fr')" class="text-sm font-bold text-slate-400">FR</button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main id="main-content">
            <!-- Home View -->
            <div id="home-view">
                <!-- Hero Section -->
                <section class="pt-32 pb-12 sm:pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto min-h-[90vh] flex items-center relative">
                    <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center">
                        <div class="text-center lg:text-right reveal active order-1">
                            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-600 text-xs font-bold mb-6 sm:mb-8 uppercase tracking-wide animate-float">
                                <span class="w-2 h-2 rounded-full bg-red-500 animate-pulse"></span>
                                <span id="hero-badge">Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ù€ GPT-4 & Trends API</span>
                            </div>
                            
                            <h1 class="text-4xl sm:text-5xl lg:text-7xl font-display font-black text-slate-900 leading-[1.2] lg:leading-[1.1] mb-6 tracking-tight">
                                <span id="hero-title-start">Ø§ØµÙ†Ø¹ Ù…Ø­ØªÙˆÙ‰</span> <br>
                                <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600" id="typewriter-text"></span><span class="cursor-blink">&nbsp;</span>
                            </h1>
                            
                            <p class="text-lg sm:text-xl text-slate-600 mb-8 sm:mb-10 leading-relaxed max-w-2xl mx-auto lg:mx-0 font-medium" id="hero-subtitle">
                                Ù†Ø¸Ø§Ù…Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ ÙŠØ±Ø§Ù‚Ø¨ Ø§Ù„ØªØ±Ù†Ø¯Ø§ØªØŒ ÙŠÙƒØªØ¨ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§ØªØŒ ÙˆÙŠØµÙ…Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª. Ø­ÙˆÙ„ Ø¹Ù„Ø§Ù…ØªÙƒ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ø¥Ù„Ù‰ Ø¸Ø§Ù‡Ø±Ø© ÙÙŠØ±Ø§Ù„ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù…Ù†ØµØ§Øª.
                            </p>
                            
                            <div class="flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-4">
                                <button onclick="setView('generator')" class="w-full sm:w-auto px-8 py-4 bg-slate-900 text-white rounded-2xl font-bold hover:bg-indigo-600 hover:scale-105 transition-all shadow-xl shadow-indigo-200" id="hero-cta-primary">
                                    Ø¬Ø±Ø¨ Ù…Ø¬Ø§Ù†Ø§Ù‹
                                </button>
                                <button onclick="setView('contact')" class="w-full sm:w-auto px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-2xl font-bold hover:border-indigo-200 hover:text-indigo-600 transition-all shadow-sm" id="hero-cta-secondary">
                                    Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¯ÙŠÙ…Ùˆ
                                </button>
                            </div>

                            <div class="mt-8 flex items-center justify-center lg:justify-start gap-4 text-sm text-slate-500 font-medium">
                                <div class="flex -space-x-2 space-x-reverse">
                                    <div class="w-8 h-8 rounded-full bg-indigo-100 border-2 border-white flex items-center justify-center overflow-hidden"><img src="https://cdn.simpleicons.org/tiktok/white" class="w-4 h-4" alt="TikTok"></div>
                                    <div class="w-8 h-8 rounded-full bg-purple-100 border-2 border-white flex items-center justify-center overflow-hidden"><img src="https://cdn.simpleicons.org/instagram/purple" class="w-4 h-4" alt="Instagram"></div>
                                    <div class="w-8 h-8 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center overflow-hidden"><img src="https://cdn.simpleicons.org/linkedin/0077b5" class="w-4 h-4" alt="LinkedIn"></div>
                                    <div class="w-8 h-8 rounded-full bg-black border-2 border-white flex items-center justify-center overflow-hidden"><img src="https://cdn.simpleicons.org/x/white" class="w-4 h-4" alt="X"></div>
                                </div>
                                <span id="hero-social-proof">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ +500 ØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙ‰</span>
                            </div>
                        </div>

                        <!-- Visual/Animation Side -->
                        <div class="relative h-[500px] lg:h-[600px] flex items-center justify-center reveal delay-200 mt-8 lg:mt-0 order-2">
                            <!-- Abstract Phone Shape -->
                            <div class="relative w-64 sm:w-72 h-[450px] sm:h-[500px] bg-slate-900 rounded-[2.5rem] sm:rounded-[3rem] border-8 border-slate-900 shadow-2xl animate-float overflow-hidden z-20">
                                <!-- Screen Content -->
                                <div class="absolute inset-0 bg-gray-800 flex flex-col">
                                    <div class="h-full w-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 relative flex items-center justify-center">
                                        <!-- Animated Icons -->
                                        <div class="absolute inset-0 grid grid-cols-2 gap-4 p-8 opacity-30">
                                            <div class="bg-white/20 rounded-xl animate-pulse"></div>
                                            <div class="bg-white/20 rounded-xl animate-pulse animation-delay-2000"></div>
                                            <div class="bg-white/20 rounded-xl animate-pulse animation-delay-4000"></div>
                                            <div class="bg-white/20 rounded-xl animate-pulse"></div>
                                        </div>
                                        <div class="text-white text-center z-10 font-bold text-2xl animate-float-delayed">
                                            VIRAL<br>MODE<br>ON ğŸš€
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Floating Social Icons -->
                            <div class="absolute top-20 left-4 lg:-left-10 w-16 h-16 sm:w-20 sm:h-20 bg-white p-3 sm:p-4 rounded-3xl shadow-xl animate-float-delayed z-30 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M21 12H3"/><path d="M12 3v18"/></svg>
                            </div>
                            <div class="absolute bottom-32 -right-2 lg:-right-4 w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-tr from-blue-400 to-blue-600 p-3 rounded-2xl shadow-xl animate-float z-30 flex items-center justify-center text-white">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Features Grid -->
                <section id="features" class="py-20 sm:py-24 relative">
                    <!-- ... features content unchanged ... -->
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="text-center mb-16 sm:mb-20 reveal">
                            <h2 class="text-3xl md:text-4xl font-display font-bold text-slate-900 mb-4" id="feat-title">ÙƒÙŠÙ Ù†ØµÙ†Ø¹ Ø§Ù„ÙÙŠØ±Ø§Ù„ØŸ</h2>
                            <p class="text-slate-500 text-lg max-w-2xl mx-auto" id="feat-subtitle">Ù…Ø­Ø±Ùƒ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø´Ø§Ù…Ù„ ÙŠÙˆÙ„Ø¯ ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰.</p>
                        </div>
                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                             <!-- Feature 1 -->
                             <div class="glass-card p-8 rounded-3xl hover:-translate-y-2 transition-transform duration-300 reveal delay-100 group">
                                <div class="w-14 h-14 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600 mb-6 group-hover:bg-blue-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-2" id="f1-title">Ø±Ø§ØµØ¯ Ø§Ù„ØªØ±Ù†Ø¯Ø§Øª</h3>
                                <p class="text-slate-500 text-sm leading-relaxed" id="f1-desc">Ù…Ø³Ø­ ÙÙˆØ±ÙŠ Ù„Ù€ TikTok Ùˆ Instagram Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„ØµØ§Ø¹Ø¯Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø¬Ù…ÙŠØ¹.</p>
                            </div>
                            <!-- Feature 2 -->
                            <div class="glass-card p-8 rounded-3xl hover:-translate-y-2 transition-transform duration-300 reveal delay-200 group">
                                <div class="w-14 h-14 bg-purple-100 rounded-2xl flex items-center justify-center text-purple-600 mb-6 group-hover:bg-purple-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-2" id="f2-title">ÙƒØ§ØªØ¨ Ø´Ø§Ù…Ù„</h3>
                                <p class="text-slate-500 text-sm leading-relaxed" id="f2-desc">ÙƒØªØ§Ø¨Ø© Ù†ØµÙˆØµ ÙÙŠØ¯ÙŠÙˆØŒ Ø¨ÙˆØ³ØªØ§Øª Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†ØŒ ØªØºØ±ÙŠØ¯Ø§ØªØŒ ÙˆØ£ÙÙƒØ§Ø± Ù…ÙŠÙ…Ø² ÙÙŠ Ø«ÙˆØ§Ù†Ù.</p>
                            </div>
                            <!-- Feature 3 -->
                            <div class="glass-card p-8 rounded-3xl hover:-translate-y-2 transition-transform duration-300 reveal delay-300 group">
                                <div class="w-14 h-14 bg-pink-100 rounded-2xl flex items-center justify-center text-pink-600 mb-6 group-hover:bg-pink-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-2" id="f3-title">Ù…ÙˆÙ„Ø¯ ØµÙˆØ± ÙˆØ£ÙÙƒØ§Ø±</h3>
                                <p class="text-slate-500 text-sm leading-relaxed" id="f3-desc">Ø§Ù‚ØªØ±Ø§Ø­ Ø£ÙÙƒØ§Ø± Ø¨ØµØ±ÙŠØ© ÙˆØªØµØ§Ù…ÙŠÙ… Ù„Ù„ØµÙˆØ± Ø§Ù„Ù…ØµØºØ±Ø© ÙˆØ§Ù„Ø¨ÙˆØ³ØªØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©.</p>
                            </div>
                            <!-- Feature 4 -->
                            <div class="glass-card p-8 rounded-3xl hover:-translate-y-2 transition-transform duration-300 reveal delay-400 group">
                                <div class="w-14 h-14 bg-green-100 rounded-2xl flex items-center justify-center text-green-600 mb-6 group-hover:bg-green-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-2" id="f4-title">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ù†ØªØ´Ø§Ø±</h3>
                                <p class="text-slate-500 text-sm leading-relaxed" id="f4-desc">ØªÙˆÙ‚Ø¹ Ù†Ø³Ø¨Ø© Ù†Ø¬Ø§Ø­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‚Ø¨Ù„ Ù†Ø´Ø±Ù‡ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Services Section -->
                <section id="services" class="py-20 sm:py-24 bg-slate-900 text-white relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-full overflow-hidden opacity-20">
                        <div class="absolute top-1/2 left-1/4 w-96 h-96 bg-indigo-600 rounded-full blur-[100px]"></div>
                        <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-purple-600 rounded-full blur-[100px]"></div>
                    </div>
                    <!-- ... services content ... -->
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                        <div class="mb-16 text-center reveal">
                            <h2 class="text-3xl md:text-5xl font-display font-bold mb-4" id="serv-title">Ø§Ø®ØªØ± Ù…Ø³Ø§Ø±Ùƒ Ù„Ù„Ù†Ø¬Ø§Ø­</h2>
                            <p class="text-slate-400 max-w-2xl mx-auto font-light text-lg" id="serv-subtitle">Ø³ÙˆØ§Ø¡ ÙƒÙ†Øª ØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙ‰ Ù…Ø³ØªÙ‚Ù„ Ø£Ùˆ Ø¹Ù„Ø§Ù…Ø© ØªØ¬Ø§Ø±ÙŠØ© Ø¹Ø§Ù„Ù…ÙŠØ©.</p>
                        </div>
                        <div class="grid lg:grid-cols-2 gap-8">
                             <!-- Creator Mode -->
                             <div class="bg-slate-800/50 backdrop-blur-sm rounded-3xl p-8 sm:p-10 border border-slate-700 hover:border-indigo-500 transition-all duration-300 reveal delay-100 relative group overflow-hidden">
                                <div class="absolute top-0 right-0 w-32 h-32 bg-indigo-600/20 rounded-full blur-2xl group-hover:bg-indigo-600/40 transition-all"></div>
                                <h3 class="text-2xl font-bold text-white mb-2" id="serv-m-title">Ù†Ø¸Ø§Ù… Ø§Ù„Ø·ÙŠØ§Ø± Ø§Ù„Ø¢Ù„ÙŠ</h3>
                                <p class="text-indigo-400 text-sm font-bold uppercase tracking-wider mb-6" id="serv-m-price">Ù„Ù„ØµÙ†Ø§Ø¹ ÙˆØ§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</p>
                                <p class="text-slate-300 mb-8 leading-relaxed" id="serv-m-desc">Ù†Ø­Ù† Ù†Ø±Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¸Ø§Ù…Ù†Ø§ØŒ Ù†Ø®ØªØ§Ø± Ø§Ù„ØªØ±Ù†Ø¯ØŒ ÙˆÙ†ØµÙ†Ø¹ ÙˆÙ†Ù†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù†ÙŠØ§Ø¨Ø© Ø¹Ù†Ùƒ.</p>
                                <ul class="space-y-4 mb-10 text-slate-300" id="serv-m-list">
                                    <li class="flex items-center gap-3"><span class="text-indigo-500">âœ“</span> 30 ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ± (Shorts/Reels) Ø´Ù‡Ø±ÙŠØ§Ù‹</li>
                                    <li class="flex items-center gap-3"><span class="text-indigo-500">âœ“</span> Ø§Ø³ØªÙ†Ø³Ø§Ø® ØµÙˆØªÙƒ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</li>
                                    <li class="flex items-center gap-3"><span class="text-indigo-500">âœ“</span> Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙÙŠ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø°Ø±ÙˆØ©</li>
                                </ul>
                                <button class="w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-indigo-900/50" id="serv-m-cta">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¬Ø±Ø¨Ø©</button>
                            </div>
                            <!-- Brand Strategy -->
                            <div class="bg-white text-slate-900 rounded-3xl p-8 sm:p-10 border border-white hover:scale-[1.02] transition-all duration-300 reveal delay-200 shadow-2xl relative overflow-hidden">
                                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-purple-500 to-pink-500"></div>
                                <h3 class="text-2xl font-bold text-slate-900 mb-2" id="serv-s-title">Ù‡ÙŠÙ…Ù†Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©</h3>
                                <p class="text-purple-600 text-sm font-bold uppercase tracking-wider mb-6" id="serv-s-price">Ù„Ù„Ø´Ø±ÙƒØ§Øª ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>
                                <p class="text-slate-600 mb-8 leading-relaxed" id="serv-s-desc">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø®ØµØµØ©ØŒ ÙˆØ¬Ù‡ Ø¥Ø¹Ù„Ø§Ù…ÙŠ Ø¨Ø´Ø±ÙŠ Ø£Ùˆ AIØŒ ÙˆØ¥Ù†ØªØ§Ø¬ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª.</p>
                                <ul class="space-y-4 mb-10 text-slate-700" id="serv-s-list">
                                    <li class="flex items-center gap-3"><span class="text-purple-600">âœ“</span> Ø®Ø·Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø´Ø§Ù…Ù„Ø©</li>
                                    <li class="flex items-center gap-3"><span class="text-purple-600">âœ“</span> ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…Ø®ØµØµØ© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª (UGC)</li>
                                    <li class="flex items-center gap-3"><span class="text-purple-600">âœ“</span> ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø¯Ø§Ø¡ ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†</li>
                                </ul>
                                <button class="w-full py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-xl font-bold transition-all" id="serv-s-cta">Ø§Ø­Ø¬Ø² Ø§Ø³ØªØ´Ø§Ø±Ø© Ù…Ø¬Ø§Ù†ÙŠØ©</button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- NEW Generator View (Gemini Powered) -->
            <div id="generator-view" class="hidden">
                 <section class="pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto min-h-[90vh]">
                     <div class="text-center mb-16">
                         <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-600 text-xs font-bold mb-6 uppercase tracking-wide">
                             <span class="w-2 h-2 rounded-full bg-indigo-500 animate-pulse"></span>
                             <span id="gen-badge">Gemini AI 2.5 Flash</span>
                         </div>
                         <h1 class="text-4xl sm:text-6xl font-display font-black text-slate-900 mb-4" id="gen-title">Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙÙŠØ±Ø§Ù„</h1>
                         <p class="text-slate-500 max-w-2xl mx-auto text-lg" id="gen-subtitle">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØµØ© ÙˆÙ†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŒ ÙˆØ³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨ØªÙˆÙ„ÙŠØ¯ Ø£ÙÙƒØ§Ø± ØªØ®Ø·Ù Ø§Ù„Ø£Ù†Ø¸Ø§Ø±.</p>
                     </div>

                     <div class="max-w-3xl mx-auto">
                         <!-- Input Card -->
                         <div class="bg-white rounded-3xl p-8 border border-slate-200 shadow-xl mb-12 relative overflow-hidden z-20">
                             <div class="relative z-10 space-y-6">
                                 
                                 <!-- Filters Row -->
                                 <div class="grid grid-cols-2 gap-4">
                                     <div>
                                         <label class="block text-xs font-bold text-slate-500 mb-2 uppercase tracking-wide" id="lbl-platform">Ø§Ù„Ù…Ù†ØµØ©</label>
                                         <select id="platform-select" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 font-medium">
                                             <option value="TikTok">TikTok ğŸµ</option>
                                             <option value="Instagram">Instagram ğŸ“¸</option>
                                             <option value="X (Twitter)">X (Twitter) ğŸ¦</option>
                                             <option value="LinkedIn">LinkedIn ğŸ’¼</option>
                                             <option value="Facebook">Facebook ğŸ“˜</option>
                                         </select>
                                     </div>
                                     <div>
                                         <label class="block text-xs font-bold text-slate-500 mb-2 uppercase tracking-wide" id="lbl-type">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</label>
                                         <select id="type-select" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 font-medium">
                                             <option value="video">ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ± (Hook) ğŸ¥</option>
                                             <option value="image">ÙÙƒØ±Ø© ØµÙˆØ±Ø© / Ù…ÙŠÙ… ğŸ–¼ï¸</option>
                                             <option value="text">Ù†Øµ / ØªØºØ±ÙŠØ¯Ø© / Ø¨ÙˆØ³Øª ğŸ“</option>
                                         </select>
                                     </div>
                                 </div>

                                 <div>
                                     <label class="block text-sm font-bold text-slate-700 mb-3" id="gen-label">Ø¹Ù† Ù…Ø§Ø°Ø§ ÙŠØªØ­Ø¯Ø« Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŸ</label>
                                     <div class="flex flex-col sm:flex-row gap-4">
                                         <input type="text" id="topic-input" placeholder="Ù…Ø«Ø§Ù„: ØªØ³ÙˆÙŠÙ‚ Ø±Ù‚Ù…ÙŠØŒ Ø·Ø¨Ø® ØµØ­ÙŠØŒ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ..." 
                                                class="flex-1 bg-slate-50 border border-slate-200 rounded-xl px-5 py-4 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all font-medium text-lg">
                                         <button onclick="generateContent()" id="gen-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-xl font-bold transition-all shadow-lg hover:shadow-indigo-500/30 flex items-center justify-center gap-2 min-w-[160px]">
                                             <span id="gen-btn-text">ØªÙˆÙ„ÙŠØ¯ âœ¨</span>
                                             <div id="gen-loader" class="hidden w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
                                         </button>
                                     </div>
                                 </div>
                             </div>
                             <!-- Decorative bg -->
                             <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"></div>
                         </div>

                         <!-- Results Area -->
                         <div id="results-container" class="hidden space-y-4">
                             <h3 class="text-xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                                 <span class="text-indigo-600">âš¡</span> 
                                 <span id="gen-results-title">Ø§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:</span>
                             </h3>
                             <div id="hooks-list" class="space-y-4">
                                 <!-- Dynamic Content -->
                             </div>
                             
                             <div class="mt-8 pt-8 border-t border-slate-200 text-center">
                                 <p class="text-slate-400 text-sm mb-4">Ù‡Ù„ Ø£Ø¹Ø¬Ø¨ØªÙƒ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ØŸ</p>
                                 <button onclick="setView('contact')" class="text-indigo-600 font-bold hover:underline">Ø§Ø¨Ø¯Ø£ Ø­Ù…Ù„ØªÙƒ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ø¹Ù†Ø§ &larr;</button>
                             </div>
                         </div>
                     </div>
                 </section>
            </div>

            <!-- Contact View -->
            <div id="contact-view" class="hidden">
                <section class="pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto min-h-[80vh]">
                    <div class="grid md:grid-cols-2 gap-16 items-start">
                        <div class="reveal active">
                            <h1 class="text-5xl font-display font-black text-slate-900 mb-6" id="con-title">Ù…Ø³ØªØ¹Ø¯ Ù„Ù„Ø§Ù†Ø·Ù„Ø§Ù‚ØŸ</h1>
                            <p class="text-slate-500 mb-12 text-lg" id="con-subtitle">Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ù„ÙŠÙ„ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø®Ø·Ø© Ù†Ù…Ùˆ Ù…Ø¬Ø§Ù†ÙŠØ©.</p>
                            
                            <div class="space-y-8">
                                <div class="flex items-center gap-5 p-6 bg-white rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                                    <div class="w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-xs uppercase tracking-wider text-slate-400 mb-1">Email</h4>
                                        <p class="text-slate-900 font-bold text-lg">viral@viralflow.ai</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white/80 backdrop-blur-lg p-8 rounded-3xl border border-slate-200 shadow-xl reveal delay-200">
                            <form id="contact-form" class="space-y-6" onsubmit="handleContact(event)">
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider text-slate-500 mb-2" id="label-name">Ø§Ù„Ø§Ø³Ù… / Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©</label>
                                    <input type="text" required class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-4 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all font-medium">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider text-slate-500 mb-2" id="label-email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                    <input type="email" required class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-4 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all font-medium">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider text-slate-500 mb-2" id="label-msg">Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                                    <input type="text" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-4 outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all font-medium dir-ltr">
                                </div>
                                <button type="submit" class="w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-lg hover:shadow-indigo-500/40 transition-all transform hover:-translate-y-1" id="btn-send">
                                    Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø§Ù„Ø®Ø·Ø©
                                </button>
                            </form>
                            <div id="form-success" class="hidden h-full flex flex-col items-center justify-center text-center py-12">
                                <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-6 animate-bounce">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                </div>
                                <h3 class="text-2xl font-bold text-slate-900 mb-2">ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!</h3>
                                <p class="text-slate-500" id="txt-success">Ø³ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙØ±ÙŠÙ‚Ù†Ø§ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-white py-12 border-t border-slate-100 relative z-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                    </div>
                    <span class="font-display font-bold text-xl text-slate-900">ViralFlow</span>
                </div>
                <p class="text-sm font-medium text-slate-500" id="footer-rights">Â© 2026 ViralFlow AI. Future of Content.</p>
            </div>
        </footer>
    </div>

    <script>
        const apiKey = ""; // API Key provided by runtime

        const content = {
            en: {
                dir: 'ltr',
                nav: { home: "Home", features: "Features", pricing: "Pricing", contact: "Contact", cta: "Start Viral", generator: "AI Studio âœ¨" },
                hero: { 
                    badge: "Powered by GPT-4 & Trends API", 
                    start: "Create Content For",
                    typewriter: ["TikTok Trends", "Instagram Reels", "Viral Tweets", "LinkedIn Posts", "Your Brand"],
                    sub: "Our AI watches trends, writes posts, and designs videos. Turn your brand into a viral sensation across all platforms.", 
                    cta1: "Try Free", 
                    cta2: "View Demo",
                    proof: "Join +500 Creators"
                },
                feat: {
                    title: "How We Go Viral?",
                    sub: "An all-in-one AI engine that analyzes, writes, and produces any content type.",
                    items: [
                        {t: "Trend Spotter", d: "Instantly scan social media for rising sounds and topics."},
                        {t: "Universal Writer", d: "Generate scripts, tweets, LinkedIn posts, and meme ideas instantly."},
                        {t: "Visual Ideator", d: "Suggests viral image concepts and thumbnail designs."},
                        {t: "Viral Predictor", d: "Predict content success score before you even post."}
                    ]
                },
                serv: { 
                    title: "Choose Your Path", 
                    sub: "Whether you're a solo creator or a global brand.", 
                    m: { t: "Autopilot Mode", p: "For Creators", d: "We link your account, pick the trend, generate and post for you.", l: ["30 Viral Posts/Videos monthly", "AI Voice Cloning", "Peak-time Auto Posting"], c: "Start Trial" }, 
                    s: { t: "Brand Domination", p: "For Business", d: "Custom strategy, human or AI avatar, and high production value.", l: ["Full Content Strategy", "Product Focused (UGC)", "Competitor Analysis"], c: "Book Strategy Call" }
                },
                gen: {
                    badge: "Gemini AI 2.5 Flash",
                    title: "Viral Content Generator",
                    subtitle: "Choose your platform and content type, and our AI will generate scroll-stopping ideas.",
                    label: "What is your content about?",
                    labels: { platform: "Platform", type: "Content Type" },
                    placeholder: "e.g., Digital Marketing, Healthy Cooking, AI Tools...",
                    btn: "Generate âœ¨",
                    results: "Suggested Ideas:",
                    copy: "Copy",
                    expand: "Expand / Caption"
                },
                con: { title: "Ready to Blast Off?", sub: "Fill the form for a free account audit and growth plan.", n: "Name / Brand", e: "Email", m: "Social Link (Optional)", s: "Send My Plan", ok: "Success! Check your inbox soon." },
                foot: { r: "Â© 2026 ViralFlow AI. Future of Content." }
            },
            ar: {
                dir: 'rtl',
                nav: { home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", features: "Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª", pricing: "Ø§Ù„Ø¨Ø§Ù‚Ø§Øª", contact: "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§", cta: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†", generator: "Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ âœ¨" },
                hero: { 
                    badge: "Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ù€ GPT-4 & Trends API", 
                    start: "Ø§ØµÙ†Ø¹ Ù…Ø­ØªÙˆÙ‰ Ù„Ù€",
                    typewriter: ["ØªØ±Ù†Ø¯Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ", "Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù… Ø±ÙŠÙ„Ø²", "ØªØºØ±ÙŠØ¯Ø§Øª ÙÙŠØ±Ø§Ù„", "Ø¨ÙˆØ³ØªØ§Øª Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†", "Ø¹Ù„Ø§Ù…ØªÙƒ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©"],
                    sub: "Ù†Ø¸Ø§Ù…Ù†Ø§ Ø§Ù„Ø°ÙƒÙŠ ÙŠØ±Ø§Ù‚Ø¨ Ø§Ù„ØªØ±Ù†Ø¯Ø§ØªØŒ ÙŠÙƒØªØ¨ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§ØªØŒ ÙˆÙŠØµÙ…Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª. Ø­ÙˆÙ„ Ø¹Ù„Ø§Ù…ØªÙƒ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ø¥Ù„Ù‰ Ø¸Ø§Ù‡Ø±Ø© ÙÙŠØ±Ø§Ù„ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù…Ù†ØµØ§Øª.", 
                    cta1: "Ø¬Ø±Ø¨ Ù…Ø¬Ø§Ù†Ø§Ù‹", 
                    cta2: "Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¯ÙŠÙ…Ùˆ",
                    proof: "Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ +500 ØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙ‰"
                },
                feat: {
                    title: "ÙƒÙŠÙ Ù†ØµÙ†Ø¹ Ø§Ù„ÙÙŠØ±Ø§Ù„ØŸ",
                    sub: "Ù…Ø­Ø±Ùƒ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø´Ø§Ù…Ù„ ÙŠÙˆÙ„Ø¯ ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰.",
                    items: [
                        {t: "Ø±Ø§ØµØ¯ Ø§Ù„ØªØ±Ù†Ø¯Ø§Øª", d: "Ù…Ø³Ø­ ÙÙˆØ±ÙŠ Ù„Ù…Ù†ØµØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„ØµØ§Ø¹Ø¯Ø©."},
                        {t: "ÙƒØ§ØªØ¨ Ø´Ø§Ù…Ù„", d: "ÙƒØªØ§Ø¨Ø© Ù†ØµÙˆØµ ÙÙŠØ¯ÙŠÙˆØŒ Ø¨ÙˆØ³ØªØ§Øª Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†ØŒ ØªØºØ±ÙŠØ¯Ø§ØªØŒ ÙˆØ£ÙÙƒØ§Ø± Ù…ÙŠÙ…Ø² ÙÙŠ Ø«ÙˆØ§Ù†Ù."},
                        {t: "Ù…ÙˆÙ„Ø¯ ØµÙˆØ± ÙˆØ£ÙÙƒØ§Ø±", d: "Ø§Ù‚ØªØ±Ø§Ø­ Ø£ÙÙƒØ§Ø± Ø¨ØµØ±ÙŠØ© ÙˆØªØµØ§Ù…ÙŠÙ… Ù„Ù„ØµÙˆØ± Ø§Ù„Ù…ØµØºØ±Ø© ÙˆØ§Ù„Ø¨ÙˆØ³ØªØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©."},
                        {t: "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ù†ØªØ´Ø§Ø±", d: "ØªÙˆÙ‚Ø¹ Ù†Ø³Ø¨Ø© Ù†Ø¬Ø§Ø­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‚Ø¨Ù„ Ù†Ø´Ø±Ù‡ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª."}
                    ]
                },
                serv: { 
                    title: "Ø§Ø®ØªØ± Ù…Ø³Ø§Ø±Ùƒ Ù„Ù„Ù†Ø¬Ø§Ø­", 
                    sub: "Ø³ÙˆØ§Ø¡ ÙƒÙ†Øª ØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙ‰ Ù…Ø³ØªÙ‚Ù„ Ø£Ùˆ Ø¹Ù„Ø§Ù…Ø© ØªØ¬Ø§Ø±ÙŠØ© Ø¹Ø§Ù„Ù…ÙŠØ©.", 
                    m: { t: "Ù†Ø¸Ø§Ù… Ø§Ù„Ø·ÙŠØ§Ø± Ø§Ù„Ø¢Ù„ÙŠ", p: "Ù„Ù„ØµÙ†Ø§Ø¹ ÙˆØ§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†", d: "Ù†Ø­Ù† Ù†Ø±Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¸Ø§Ù…Ù†Ø§ØŒ Ù†Ø®ØªØ§Ø± Ø§Ù„ØªØ±Ù†Ø¯ØŒ ÙˆÙ†ØµÙ†Ø¹ ÙˆÙ†Ù†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù†ÙŠØ§Ø¨Ø© Ø¹Ù†Ùƒ.", l: ["30 ÙÙŠØ¯ÙŠÙˆ/Ø¨ÙˆØ³Øª Ø´Ù‡Ø±ÙŠØ§Ù‹", "Ø§Ø³ØªÙ†Ø³Ø§Ø® ØµÙˆØªÙƒ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", "Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙÙŠ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø°Ø±ÙˆØ©"], c: "Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¬Ø±Ø¨Ø©" }, 
                    s: { t: "Ù‡ÙŠÙ…Ù†Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©", p: "Ù„Ù„Ø´Ø±ÙƒØ§Øª ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª", d: "Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø®ØµØµØ©ØŒ ÙˆØ¬Ù‡ Ø¥Ø¹Ù„Ø§Ù…ÙŠ Ø¨Ø´Ø±ÙŠ Ø£Ùˆ AIØŒ ÙˆØ¥Ù†ØªØ§Ø¬ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª.", l: ["Ø®Ø·Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", "ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…Ø®ØµØµØ© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª", "ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø¯Ø§Ø¡ ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†"], c: "Ø§Ø­Ø¬Ø² Ø§Ø³ØªØ´Ø§Ø±Ø© Ù…Ø¬Ø§Ù†ÙŠØ©" }
                },
                gen: {
                    badge: "Gemini AI 2.5 Flash",
                    title: "Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙÙŠØ±Ø§Ù„",
                    subtitle: "Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØµØ© ÙˆÙ†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŒ ÙˆØ³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨ØªÙˆÙ„ÙŠØ¯ Ø£ÙÙƒØ§Ø± ØªØ®Ø·Ù Ø§Ù„Ø£Ù†Ø¸Ø§Ø±.",
                    label: "Ø¹Ù† Ù…Ø§Ø°Ø§ ÙŠØªØ­Ø¯Ø« Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŸ",
                    labels: { platform: "Ø§Ù„Ù…Ù†ØµØ©", type: "Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰" },
                    placeholder: "Ù…Ø«Ø§Ù„: ØªØ³ÙˆÙŠÙ‚ Ø±Ù‚Ù…ÙŠØŒ Ø·Ø¨Ø® ØµØ­ÙŠØŒ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ...",
                    btn: "ØªÙˆÙ„ÙŠØ¯ âœ¨",
                    results: "Ø§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:",
                    copy: "Ù†Ø³Ø®",
                    expand: "ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙØ§ØµÙŠÙ„ / Ø§Ù„ÙˆØµÙ"
                },
                con: { title: "Ù…Ø³ØªØ¹Ø¯ Ù„Ù„Ø§Ù†Ø·Ù„Ø§Ù‚ØŸ", sub: "Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ù„ÙŠÙ„ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø®Ø·Ø© Ù†Ù…Ùˆ Ù…Ø¬Ø§Ù†ÙŠØ©.", n: "Ø§Ù„Ø§Ø³Ù… / Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©", e: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", m: "Ø±Ø§Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)", s: "Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø§Ù„Ø®Ø·Ø©", ok: "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„! Ø³ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙØ±ÙŠÙ‚Ù†Ø§." },
                foot: { r: "Â© 2026 ViralFlow AI. Ù…Ø³ØªÙ‚Ø¨Ù„ ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰." }
            },
            fr: {
                dir: 'ltr',
                nav: { home: "Accueil", features: "FonctionnalitÃ©s", pricing: "Tarifs", contact: "Contact", cta: "Devenir Viral", generator: "Studio IA âœ¨" },
                hero: { 
                    badge: "PropulsÃ© par GPT-4 & Trends", 
                    start: "CrÃ©ez du contenu pour",
                    typewriter: ["TikTok Trends", "Instagram Reels", "Viral Tweets", "LinkedIn Posts", "Votre Marque"],
                    sub: "Notre IA surveille les tendances, Ã©crit les posts et monte les vidÃ©os. Transformez votre marque en phÃ©nomÃ¨ne viral sur toutes les plateformes.", 
                    cta1: "Essai Gratuit", 
                    cta2: "Voir la DÃ©mo",
                    proof: "Rejoignez +500 CrÃ©ateurs"
                },
                feat: {
                    title: "Comment devenir viral ?",
                    sub: "Un moteur IA tout-en-un qui analyse, Ã©crit et produit tout type de contenu.",
                    items: [
                        {t: "Radar de Tendances", d: "Scan instantanÃ© des rÃ©seaux sociaux pour les sujets montants."},
                        {t: "RÃ©dacteur Universel", d: "GÃ©nÃ©rez des scripts, tweets, posts LinkedIn et idÃ©es de mÃ¨mes instantanÃ©ment."},
                        {t: "IdÃ©ateur Visuel", d: "SuggÃ¨re des concepts d'images virales et designs de miniatures."},
                        {t: "PrÃ©diction Virale", d: "Score de succÃ¨s prÃ©dictif avant publication."}
                    ]
                },
                serv: { 
                    title: "Choisissez votre voie", 
                    sub: "CrÃ©ateur solo ou marque mondiale.", 
                    m: { t: "Mode Pilote Auto", p: "Pour CrÃ©ateurs", d: "Liaison de compte, choix de tendance, gÃ©nÃ©ration et publication auto.", l: ["30 Posts/VidÃ©os par mois", "Clonage Vocal IA", "Publication aux heures de pointe"], c: "DÃ©marrer l'essai" }, 
                    s: { t: "Domination de Marque", p: "Pour Entreprises", d: "StratÃ©gie sur mesure, avatar humain ou IA, production haute qualitÃ©.", l: ["StratÃ©gie de contenu complÃ¨te", "VidÃ©os Produits (UGC)", "Analyse concurrentielle"], c: "RÃ©server un appel" }
                },
                gen: {
                    badge: "Gemini AI 2.5 Flash",
                    title: "GÃ©nÃ©rateur de Contenu Viral",
                    subtitle: "Choisissez votre plateforme et type de contenu, notre IA gÃ©nÃ©rera des idÃ©es accrocheuses.",
                    label: "De quoi parle le contenu ?",
                    labels: { platform: "Plateforme", type: "Type de Contenu" },
                    placeholder: "ex : Marketing Digital, Cuisine Saine, Outils IA...",
                    btn: "GÃ©nÃ©rer âœ¨",
                    results: "IdÃ©es SuggÃ©rÃ©es :",
                    copy: "Copier",
                    expand: "DÃ©tails / LÃ©gende"
                },
                con: { title: "PrÃªt Ã  dÃ©coller ?", sub: "Remplissez le formulaire pour un audit gratuit.", n: "Nom / Marque", e: "E-mail", m: "Lien social (Optionnel)", s: "Recevoir mon plan", ok: "SuccÃ¨s ! VÃ©rifiez votre boÃ®te mail." },
                foot: { r: "Â© 2026 ViralFlow AI. Le futur du contenu." }
            }
        };

        let currentLang = 'ar';
        let typeWriterIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typeTimeout;

        // Helper functions for safe DOM manipulation
        function safeSetText(id, text) {
            const el = document.getElementById(id);
            if (el) el.innerText = text;
        }

        function safeSetPlaceholder(id, text) {
            const el = document.getElementById(id);
            if (el) el.placeholder = text;
        }

        function safeToggleClass(id, className, condition) {
            const el = document.getElementById(id);
            if (el) el.classList.toggle(className, condition);
        }

        function setLang(l) {
            currentLang = l;
            const t = content[l];
            document.documentElement.lang = l;
            document.documentElement.dir = t.dir;
            document.body.className = t.dir === 'rtl' ? 'rtl' : 'ltr';

            // Navbar
            safeSetText('nav-home', t.nav.home);
            safeSetText('m-nav-home', t.nav.home);
            safeSetText('nav-generator', t.nav.generator);
            safeSetText('m-nav-generator', t.nav.generator);
            safeSetText('nav-features', t.nav.features);
            safeSetText('m-nav-features', t.nav.features);
            safeSetText('nav-services', t.nav.pricing);
            safeSetText('m-nav-services', t.nav.pricing);
            safeSetText('nav-contact', t.nav.contact);
            safeSetText('m-nav-contact', t.nav.contact);
            safeSetText('nav-cta', t.nav.cta);

            // Hero
            safeSetText('hero-badge', t.hero.badge);
            safeSetText('hero-title-start', t.hero.start);
            safeSetText('hero-subtitle', t.hero.sub);
            safeSetText('hero-cta-primary', t.hero.cta1);
            safeSetText('hero-cta-secondary', t.hero.cta2);
            safeSetText('hero-social-proof', t.hero.proof);

            // Features
            safeSetText('feat-title', t.feat.title);
            safeSetText('feat-subtitle', t.feat.sub);
            safeSetText('f1-title', t.feat.items[0].t); safeSetText('f1-desc', t.feat.items[0].d);
            safeSetText('f2-title', t.feat.items[1].t); safeSetText('f2-desc', t.feat.items[1].d);
            safeSetText('f3-title', t.feat.items[2].t); safeSetText('f3-desc', t.feat.items[2].d);
            safeSetText('f4-title', t.feat.items[3].t); safeSetText('f4-desc', t.feat.items[3].d);

            // Services
            safeSetText('serv-title', t.serv.title);
            safeSetText('serv-subtitle', t.serv.sub);
            safeSetText('serv-m-title', t.serv.m.t);
            safeSetText('serv-m-price', t.serv.m.p);
            safeSetText('serv-m-desc', t.serv.m.d);
            safeSetText('serv-m-cta', t.serv.m.c);
            
            const mListEl = document.getElementById('serv-m-list');
            if (mListEl && mListEl.children.length >= 3) {
                 const mList = mListEl.children;
                 for(let i=0; i<3; i++) {
                     if(mList[i].childNodes.length > 1) {
                        mList[i].childNodes[1].textContent = " " + t.serv.m.l[i];
                     }
                 }
            }

            safeSetText('serv-s-title', t.serv.s.t);
            safeSetText('serv-s-price', t.serv.s.p);
            safeSetText('serv-s-desc', t.serv.s.d);
            safeSetText('serv-s-cta', t.serv.s.c);
            
            const sListEl = document.getElementById('serv-s-list');
            if (sListEl && sListEl.children.length >= 3) {
                const sList = sListEl.children;
                for(let i=0; i<3; i++) {
                     if(sList[i].childNodes.length > 1) {
                        sList[i].childNodes[1].textContent = " " + t.serv.s.l[i];
                     }
                }
            }

            // Generator
            safeSetText('gen-badge', t.gen.badge);
            safeSetText('gen-title', t.gen.title);
            safeSetText('gen-subtitle', t.gen.subtitle);
            safeSetText('gen-label', t.gen.label);
            safeSetText('lbl-platform', t.gen.labels.platform);
            safeSetText('lbl-type', t.gen.labels.type);
            safeSetPlaceholder('topic-input', t.gen.placeholder);
            safeSetText('gen-btn-text', t.gen.btn);
            safeSetText('gen-results-title', t.gen.results);

            // Contact
            safeSetText('con-title', t.con.title);
            safeSetText('con-subtitle', t.con.sub);
            safeSetText('label-name', t.con.n);
            safeSetText('label-email', t.con.e);
            safeSetText('label-msg', t.con.m);
            safeSetText('btn-send', t.con.s);
            safeSetText('txt-success', t.con.ok);

            // Footer
            safeSetText('footer-rights', t.foot.r);

            // Active State
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('bg-white', 'text-indigo-600', 'shadow-sm');
                btn.classList.add('text-slate-400');
            });
            const activeBtn = document.querySelector(`.lang-btn.${l}`);
            if (activeBtn) {
                activeBtn.classList.add('bg-white', 'text-indigo-600', 'shadow-sm');
                activeBtn.classList.remove('text-slate-400');
            }

            // Reset typewriter
            clearTimeout(typeTimeout);
            isDeleting = false;
            typeWriterIndex = 0;
            charIndex = 0;
            typeWriter();
        }

        function setView(v) {
            safeToggleClass('home-view', 'hidden', v !== 'home');
            safeToggleClass('generator-view', 'hidden', v !== 'generator');
            safeToggleClass('contact-view', 'hidden', v !== 'contact');
            
            safeToggleClass('nav-home', 'text-indigo-600', v === 'home');
            safeToggleClass('nav-generator', 'text-indigo-600', v === 'generator');
            safeToggleClass('nav-contact', 'text-indigo-600', v === 'contact');
            window.scrollTo(0, 0);
        }

        function toggleMenu() {
            safeToggleClass('mobile-menu', 'hidden', !document.getElementById('mobile-menu').classList.contains('hidden'));
        }

        function handleContact(e) {
            e.preventDefault();
            const form = document.getElementById('contact-form');
            const success = document.getElementById('form-success');
            
            if (form && success) {
                form.classList.add('hidden');
                success.classList.remove('hidden');
                setTimeout(() => {
                    form.classList.remove('hidden');
                    success.classList.add('hidden');
                    form.reset();
                }, 5000);
            }
        }

        // --- Gemini API Logic ---
        
        async function callGemini(prompt) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            const payload = {
                contents: [{ parts: [{ text: prompt }] }]
            };

            const delays = [1000, 2000, 4000, 8000, 16000];
            for (let i = 0; i < 5; i++) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    
                    const data = await response.json();
                    return data.candidates[0].content.parts[0].text;
                } catch (error) {
                    if (i === 4) throw error;
                    await new Promise(r => setTimeout(r, delays[i]));
                }
            }
        }

        async function generateContent() {
            const inputEl = document.getElementById('topic-input');
            const platformEl = document.getElementById('platform-select');
            const typeEl = document.getElementById('type-select');
            
            if (!inputEl || !inputEl.value) return;
            const topic = inputEl.value;
            const platform = platformEl ? platformEl.value : 'TikTok';
            const type = typeEl ? typeEl.value : 'video';

            const btnText = document.getElementById('gen-btn-text');
            const loader = document.getElementById('gen-loader');
            const resultsContainer = document.getElementById('results-container');
            const hooksList = document.getElementById('hooks-list');

            if(btnText) btnText.classList.add('hidden');
            if(loader) loader.classList.remove('hidden');
            
            try {
                let prompt = "";
                
                // Construct dynamic prompts based on type/platform
                if (currentLang === 'ar') {
                    if (type === 'video') {
                        prompt = `Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø§Ù‚ØªØ±Ø­ 5 Ø¹Ù†Ø§ÙˆÙŠÙ† (Hooks) ÙÙŠØ¯ÙŠÙˆ ÙÙŠØ±Ø§Ù„ Ù„Ù…Ù†ØµØ© ${platform} Ø­ÙˆÙ„ "${topic}". Ø§Ø¬Ø¹Ù„Ù‡Ø§ Ù‚ØµÙŠØ±Ø©ØŒ ØºØ§Ù…Ø¶Ø© ÙˆÙ…Ø«ÙŠØ±Ø©. Ø¨Ø¯ÙˆÙ† ØªØ±Ù‚ÙŠÙ….`;
                    } else if (type === 'image') {
                        prompt = `Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø§Ù‚ØªØ±Ø­ 5 Ø£ÙÙƒØ§Ø± ØµÙˆØ± Ø£Ùˆ Ù…ÙŠÙ…Ø² ÙÙŠØ±Ø§Ù„ Ù„Ù…Ù†ØµØ© ${platform} Ø­ÙˆÙ„ "${topic}". ØµÙ Ø§Ù„ÙÙƒØ±Ø© Ø¨Ø¹Ø¨Ø§Ø±Ø© Ù‚ØµÙŠØ±Ø© ÙˆØ§Ø­Ø¯Ø©. Ø¨Ø¯ÙˆÙ† ØªØ±Ù‚ÙŠÙ….`;
                    } else if (type === 'text') {
                        prompt = `Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø§ÙƒØªØ¨ 5 Ø¬Ù…Ù„ Ø§ÙØªØªØ§Ø­ÙŠØ© Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª ÙÙŠØ±Ø§Ù„ (Ø£Ùˆ ØªØºØ±ÙŠØ¯Ø§Øª) Ù„Ù…Ù†ØµØ© ${platform} Ø­ÙˆÙ„ "${topic}". Ø§Ø¬Ø¹Ù„Ù‡Ø§ Ù‚ÙˆÙŠØ© ÙˆÙ…Ø«ÙŠØ±Ø© Ù„Ù„Ø¬Ø¯Ù„ Ø£Ùˆ Ù…Ù„Ù‡Ù…Ø©. Ø¨Ø¯ÙˆÙ† ØªØ±Ù‚ÙŠÙ….`;
                    }
                } else {
                    if (type === 'video') {
                        prompt = `Generate 5 viral video hooks for ${platform} about "${topic}". Make them high-retention and punchy. Just the hooks, one per line, no numbering.`;
                    } else if (type === 'image') {
                        prompt = `Suggest 5 viral image concepts or meme ideas for ${platform} about "${topic}". Describe the concept in one short sentence. One per line, no numbering.`;
                    } else if (type === 'text') {
                        prompt = `Write 5 viral opening lines for text posts/threads on ${platform} about "${topic}". Make them engaging. One per line, no numbering.`;
                    }
                }
                
                const response = await callGemini(prompt);
                const ideas = response.split('\n').filter(line => line.trim().length > 0);
                
                if(hooksList) hooksList.innerHTML = '';
                
                ideas.forEach((idea) => {
                    const cleanIdea = idea.replace(/^[\d-.\s]+/, '').trim();
                    const el = document.createElement('div');
                    el.className = 'bg-slate-50 border border-slate-100 p-4 rounded-xl flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 group hover:border-indigo-200 transition-colors';
                    
                    const btnLabel = content[currentLang].gen.expand;
                    
                    el.innerHTML = `
                        <div class="flex-1 font-bold text-slate-800 text-lg">"${cleanIdea}"</div>
                        <div class="flex items-center gap-2 w-full sm:w-auto mt-2 sm:mt-0">
                            <button onclick="expandIdea('${cleanIdea.replace(/'/g, "\\'")}', '${type}', '${platform}')" class="flex-1 sm:flex-none text-xs font-bold bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg hover:bg-indigo-200 transition-colors text-center">
                                ${btnLabel}
                            </button>
                            <button onclick="copyText('${cleanIdea.replace(/'/g, "\\'")}')" class="text-slate-400 hover:text-indigo-600 transition-colors p-2" title="${content[currentLang].gen.copy}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                            </button>
                        </div>
                    `;
                    if(hooksList) hooksList.appendChild(el);
                });

                if(resultsContainer) {
                    resultsContainer.classList.remove('hidden');
                    resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }

            } catch (error) {
                console.error(error);
                alert(currentLang === 'ar' ? 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.' : 'Error generating content. Please try again.');
            } finally {
                if(btnText) btnText.classList.remove('hidden');
                if(loader) loader.classList.add('hidden');
            }
        }

        async function expandIdea(idea, type, platform) {
            let prompt = "";
            if (currentLang === 'ar') {
                if (type === 'video') prompt = `Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† "${idea}" (Ù…Ù†ØµØ© ${platform})ØŒ Ø§ÙƒØªØ¨ ÙˆØµÙ ÙÙŠØ¯ÙŠÙˆ (Caption) Ø¬Ø°Ø§Ø¨ Ù…Ø¹ 5 Ù‡Ø§Ø´ØªØ§Ù‚Ø§Øª.`;
                else if (type === 'image') prompt = `Ù„Ù‡Ø°Ù‡ Ø§Ù„ÙÙƒØ±Ø© "${idea}" (Ù…Ù†ØµØ© ${platform})ØŒ ØµÙ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„ØªÙØµÙŠÙ„ ÙˆØ§ÙƒØªØ¨ Ù†Øµ (Caption) Ù…Ø±Ø§ÙÙ‚ Ù„Ù‡Ø§.`;
                else if (type === 'text') prompt = `Ù‚Ù… Ø¨ØªÙˆØ³ÙŠØ¹ Ù‡Ø°Ù‡ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØªØ§Ø­ÙŠØ© "${idea}" Ø¥Ù„Ù‰ Ù…Ù†Ø´ÙˆØ± ÙƒØ§Ù…Ù„ (Ø£Ùˆ Ø«Ø±ÙŠØ¯) Ù„Ù…Ù†ØµØ© ${platform}.`;
            } else {
                if (type === 'video') prompt = `For this video hook "${idea}" (Platform: ${platform}), write an engaging caption with 5 hashtags.`;
                else if (type === 'image') prompt = `For this image concept "${idea}" (Platform: ${platform}), describe the visual in detail and write the accompanying caption.`;
                else if (type === 'text') prompt = `Expand this opening line "${idea}" into a full post (or thread) for ${platform}.`;
            }
                
            try {
                const response = await callGemini(prompt);
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in';
                modal.innerHTML = `
                    <div class="bg-white rounded-2xl max-w-lg w-full p-6 shadow-2xl relative max-h-[90vh] overflow-y-auto">
                        <button onclick="this.closest('.fixed').remove()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-900">âœ•</button>
                        <h3 class="font-bold text-lg mb-4 text-indigo-600">${currentLang === 'ar' ? 'Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©:' : 'Generated Content:'}</h3>
                        <div class="bg-slate-50 p-4 rounded-xl text-slate-700 mb-4 whitespace-pre-wrap text-sm leading-relaxed">${response}</div>
                        <button onclick="copyText(\`${response.replace(/`/g, '\\`')}\`)" class="w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-indigo-600 transition-colors">
                           ${currentLang === 'ar' ? 'Ù†Ø³Ø® Ø§Ù„Ù…Ø­ØªÙˆÙ‰' : 'Copy Content'}
                        </button>
                    </div>
                `;
                document.body.appendChild(modal);
            } catch (e) {
                alert("Error generating details");
            }
        }

        function copyText(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-6 py-3 rounded-full shadow-lg z-50 text-sm font-bold animate-fade-up';
            toast.innerText = currentLang === 'ar' ? 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!' : 'Copied!';
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        // --- Typewriter & Animations ---

        function typeWriter() {
            if (!content || !content[currentLang] || !content[currentLang].hero) return;
            const currentWords = content[currentLang].hero.typewriter;
            const currentWord = currentWords[typeWriterIndex];
            const typeSpeed = isDeleting ? 50 : 100;

            const el = document.getElementById('typewriter-text');
            if (el) {
                if (!isDeleting && charIndex < currentWord.length) {
                    charIndex++;
                    el.textContent = currentWord.substring(0, charIndex);
                } else if (isDeleting && charIndex > 0) {
                    charIndex--;
                    el.textContent = currentWord.substring(0, charIndex);
                }
            }

            if (!isDeleting && charIndex === currentWord.length) {
                isDeleting = true;
                typeTimeout = setTimeout(typeWriter, 2000); // Pause at end
                return;
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                typeWriterIndex = (typeWriterIndex + 1) % currentWords.length;
            }

            typeTimeout = setTimeout(typeWriter, typeSpeed);
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Initial Load
        window.addEventListener('load', () => {
            typeWriter();
            // Navbar Scroll Effect
            window.addEventListener('scroll', () => {
                const nav = document.getElementById('navbar');
                if(!nav) return;
                if (window.scrollY > 20) {
                    nav.classList.add('shadow-md', 'bg-white/95');
                    nav.classList.remove('bg-white/80', 'border-white/20');
                } else {
                    nav.classList.remove('shadow-md', 'bg-white/95');
                    nav.classList.add('bg-white/80', 'border-white/20');
                }
            });
        });

    </script>
    <script>
      (function(d,t) {
        var BASE_URL="https://chatwoot.panel.workproof.one";
        var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=BASE_URL+"/packs/js/sdk.js";
        g.async = true;
        s.parentNode.insertBefore(g,s);
        g.onload=function(){
          window.chatwootSDK.run({
            websiteToken: 'CjeQKTAyzGLyxUKmWbGUh1i2',
            baseUrl: BASE_URL
          })
        }
      })(document,"script");
    </script>
</body>
</html>